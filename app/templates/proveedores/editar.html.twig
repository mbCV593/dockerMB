{% extends 'base.html.twig' %}

{% block title %}Editar Proveedor - Sistema de Inventario{% endblock %}

{% block body %}
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h1>üè¢ Editar Proveedor</h1>
        <a 
            href="{{ path('proveedores_index') }}" 
            style="background: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; font-weight: bold;"
        >
            ‚Üê Volver al Listado
        </a>
    </div>

    {# Mostrar mensajes flash #}
    {% for message in app.flashes('error') %}
        <div style="background: #f8d7da; color: #721c24; padding: 10px; border: 1px solid #f5c6cb; border-radius: 4px; margin-bottom: 15px;">
            ‚úó {{ message }}
        </div>
    {% endfor %}

    <form method="post" action="{{ path('proveedores_actualizar', {'id': proveedor.getId}) }}" style="max-width: 600px;">
        <div style="margin-bottom: 15px;">
            <label for="nombre" style="display: block; margin-bottom: 5px; font-weight: bold;">
                Nombre del Proveedor: <span style="color: red;">*</span>
            </label>
            <input 
                type="text" 
                id="nombre" 
                name="nombre" 
                required 
                maxlength="200"
                value="{{ proveedor.getNombre }}"
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;"
                placeholder="Ingrese el nombre del proveedor"
            >
        </div>

        <div style="margin-bottom: 15px;">
            <label for="contacto" style="display: block; margin-bottom: 5px; font-weight: bold;">
                Persona de Contacto:
            </label>
            <input 
                type="text" 
                id="contacto" 
                name="contacto" 
                maxlength="100"
                value="{{ proveedor.getContacto ?? '' }}"
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;"
                placeholder="Nombre de la persona de contacto"
            >
        </div>

        <div style="margin-bottom: 15px;">
            <label for="email" style="display: block; margin-bottom: 5px; font-weight: bold;">
                Email:
            </label>
            <input 
                type="email" 
                id="email" 
                name="email" 
                maxlength="100"
                value="{{ proveedor.getEmail ?? '' }}"
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;"
                placeholder="correo@ejemplo.com"
            >
        </div>

        <div style="margin-bottom: 15px;">
            <label for="telefono" style="display: block; margin-bottom: 5px; font-weight: bold;">
                Tel√©fono:
            </label>
            <input 
                type="tel" 
                id="telefono" 
                name="telefono" 
                maxlength="20"
                value="{{ proveedor.getTelefono ?? '' }}"
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;"
                placeholder="Ej: +502 1234-5678"
            >
        </div>

        <div style="margin-bottom: 15px;">
            <label for="direccion" style="display: block; margin-bottom: 5px; font-weight: bold;">
                Direcci√≥n:
            </label>
            <textarea 
                id="direccion" 
                name="direccion" 
                rows="3"
                style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; resize: vertical;"
                placeholder="Direcci√≥n completa del proveedor"
            >{{ proveedor.getDireccion ?? '' }}</textarea>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 10px; font-weight: bold;">
                Estado:
            </label>
            <div style="display: flex; gap: 20px;">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="radio" name="activo" value="1" {{ proveedor.isActivo ? 'checked' : '' }} style="margin-right: 5px;">
                    <span style="color: #28a745;">‚úì Activo</span>
                </label>
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="radio" name="activo" value="0" {{ not proveedor.isActivo ? 'checked' : '' }} style="margin-right: 5px;">
                    <span style="color: #dc3545;">‚úó Inactivo</span>
                </label>
            </div>
        </div>

        <div style="display: flex; gap: 10px;">
            <button 
                type="submit" 
                style="background: #17a2b8; color: white; padding: 10px 20px; border: none; border-radius: 4px; font-weight: bold; cursor: pointer;"
            >
                ‚úì Actualizar Proveedor
            </button>
            <a 
                href="{{ path('proveedores_index') }}" 
                style="background: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; font-weight: bold; display: inline-block;"
            >
                ‚úó Cancelar
            </a>
        </div>
    </form>

    <div style="margin-top: 20px; padding: 10px; background: #e9ecef; border-radius: 4px; font-size: 12px;">
        <strong>Nota:</strong> Los campos marcados con <span style="color: red;">*</span> son obligatorios.
        <br><strong>Proveedor creado:</strong> {{ proveedor.getCreatedAt|date('d/m/Y H:i', 'America/Guatemala') }}
    </div>
{% endblock %}
